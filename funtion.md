# 函数

定义一个函数:函数声明和函数表达式

![函数生命周期](https://pic4.zhimg.com/v2-88a513ba2ce27b5b41ec6e188d07b30f_r.png)

## 函数声明

### 函数声明提升

概念:在执行代码前会先读取函数声明

## 函数表达式

概念:创建一个匿名函数然后赋予一个变量，这就是函数表达式，若没有先赋值，那么在之前调用函数就会发生错误。

### 闭包

概念:闭包是指有权访问另一个函数作用域中的变量(自由变量)的函数

创建:在一个函数内部创建另一个函数

解除对函数的使用:设置给函数变量赋值为null

#### 闭包存在的意义

局部变量无法共享和长久的保存，而全局变量可能造成变量污染，所以我们希望有一种机制既可以长久的保存变量又不会造成全局污染。

#### 优点

1. 减少环境变量污染

#### 不足

1. 占用更多的内存
2. 不容易被释放

#### 闭包实现原理

会记住定义函数作用域中变量的原因:当函数被调用时会创建执行环境和相应的作用域链(是指向活动对象和全局对象的指针列表)，然后使用 arguments 和其他命名参数的值来初始化函数的活动对象，无论什么时候变量查找都是沿着作用域链向上直到全局作用域。

但是不同于其他函数在函数调用完局部变量会被销毁，在一个函数中定义的函数会将外部函数的活动对象添加到自己的作用域链上，更为重要的是外部函数执行完毕后，活动对象由于还被其他作用域链引用没有被销毁存储在内存中，直到引用它的函数执行完毕后才会被销毁

