# 常用模块化

为什么会出现模块化?

由于早前的使用script标签内嵌脚本缺乏代码可重用性,缺乏依赖解析,命名空间被污染

## Commonjs

Commonjs不是一个js库,是一个标准化组织为web服务器,桌面和应用程序定义了一套模块API,毕竟服务器没有html页面和script内嵌脚本供使用

### 使用

1. 导出:module.exports
2. 导入:require() --> 加载的是module.exports属性,其他属性挂载在exports属性上

### 注意:

1. Commonjs中,module就是当前模块,是一个对象,它的exports属性是一个对外的接口,加载某个模块其实是加载某个模块的module.exports属性
2. 所有代码都运行在模块作用域,而不会污染全局作用域
3. 按顺序加载(同步)
4. 加载只运行一次,就会把结果缓存,若想要重新加载必须先清除缓存
5. 模块加载机制:输入的是被输出值的拷贝,由于加载只运行一次,也就是说一旦输出,模块内部的值的变化不会影响到输入值
